version: "3.7"
services:
  web:
    image: javalisson/github-followers:dev
    command: npm run serve
    build:
      context: .
      target: base
    volumes:
      # WARNING: Don't map ./ to /app because it overrides the node_modules folder
      - ./.browserslistrc:/app/.browserslistrc
      - ./.editorconfig:/app/.editorconfig
      - ./.eslintrc.js:/app/.eslintrc.js
      - ./.git:/app/.git
      - ./.gitignore:/app/.gitignore
      - ./babel.config.js:/app/babel.config.js
      - ./docker-compose.yml:/app/docker-compose.yml
      - ./jest.config.js:/app/jest.config.js
      - ./package.json:/app/package.json
      - ./package-lock.json:/app/package-lock.json
      - ./postcss.config.js:/app/postcss.config.js
      - ./public:/app/public
      - ./README.md:/app/README.md
      - ./src:/app/src
      - ./static.json:/app/static.json
      - ./tests:/app/tests
    ports: 
      - "8080:8080"
    environment:
      - NODE_ENV=development
